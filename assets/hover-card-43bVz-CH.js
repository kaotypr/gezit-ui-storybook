import{j as a}from"./jsx-runtime-BjG_zV1W.js";import{r as n}from"./index-BgCQ941z.js";import{c as l}from"./index-Dc_FVRD7.js";import{c as I}from"./index-B5LVTqq5.js";import{u as M}from"./index-BInWWs9D.js";import{u as k}from"./index-Be4k453d.js";import{c as E,R as F,A as U,C as $,a as W}from"./index-CJl9oC1v.js";import{P as z}from"./index-DYKZN-PH.js";import{P as T}from"./index-RJnmdD4_.js";import{P as B}from"./index-raY0i5zZ.js";import{D as V}from"./index-BdN0SzKn.js";import{c as q}from"./cn-BEHD0UYf.js";var w,R="HoverCard",[_,ge]=I(R,[E]),S=E(),[G,b]=_(R),O=e=>{const{__scopeHoverCard:o,children:t,open:s,defaultOpen:i,onOpenChange:c,openDelay:f=700,closeDelay:v=300}=e,d=S(o),m=n.useRef(0),u=n.useRef(0),C=n.useRef(!1),p=n.useRef(!1),[h,r]=M({prop:s,defaultProp:i??!1,onChange:c,caller:R}),x=n.useCallback(()=>{clearTimeout(u.current),m.current=window.setTimeout(()=>r(!0),f)},[f,r]),A=n.useCallback(()=>{clearTimeout(m.current),!C.current&&!p.current&&(u.current=window.setTimeout(()=>r(!1),v))},[v,r]),L=n.useCallback(()=>r(!1),[r]);return n.useEffect(()=>()=>{clearTimeout(m.current),clearTimeout(u.current)},[]),a.jsx(G,{scope:o,open:h,onOpenChange:r,onOpen:x,onClose:A,onDismiss:L,hasSelectionRef:C,isPointerDownOnContentRef:p,children:a.jsx(F,{...d,children:t})})};O.displayName=R;var y="HoverCardTrigger",N=n.forwardRef((e,o)=>{const{__scopeHoverCard:t,...s}=e,i=b(y,t),c=S(t);return a.jsx(U,{asChild:!0,...c,children:a.jsx(B.a,{"data-state":i.open?"open":"closed",...s,ref:o,onPointerEnter:l(e.onPointerEnter,P(i.onOpen)),onPointerLeave:l(e.onPointerLeave,P(i.onClose)),onFocus:l(e.onFocus,i.onOpen),onBlur:l(e.onBlur,i.onClose),onTouchStart:l(e.onTouchStart,f=>f.preventDefault())})})});N.displayName=y;var H="HoverCardPortal",[K,J]=_(H,{forceMount:void 0}),D=e=>{const{__scopeHoverCard:o,forceMount:t,children:s,container:i}=e,c=b(H,o);return a.jsx(K,{scope:o,forceMount:t,children:a.jsx(T,{present:t||c.open,children:a.jsx(z,{asChild:!0,container:i,children:s})})})};D.displayName=H;var g="HoverCardContent",j=n.forwardRef((e,o)=>{const t=J(g,e.__scopeHoverCard),{forceMount:s=t.forceMount,...i}=e,c=b(g,e.__scopeHoverCard);return a.jsx(T,{present:s||c.open,children:a.jsx(Q,{"data-state":c.open?"open":"closed",...i,onPointerEnter:l(e.onPointerEnter,P(c.onOpen)),onPointerLeave:l(e.onPointerLeave,P(c.onClose)),ref:o})})});j.displayName=g;var Q=n.forwardRef((e,o)=>{const{__scopeHoverCard:t,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:c,onInteractOutside:f,...v}=e,d=b(g,t),m=S(t),u=n.useRef(null),C=k(o,u),[p,h]=n.useState(!1);return n.useEffect(()=>{if(p){const r=document.body;return w=r.style.userSelect||r.style.webkitUserSelect,r.style.userSelect="none",r.style.webkitUserSelect="none",()=>{r.style.userSelect=w,r.style.webkitUserSelect=w}}},[p]),n.useEffect(()=>{if(u.current){const r=()=>{h(!1),d.isPointerDownOnContentRef.current=!1,setTimeout(()=>{document.getSelection()?.toString()!==""&&(d.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",r),()=>{document.removeEventListener("pointerup",r),d.hasSelectionRef.current=!1,d.isPointerDownOnContentRef.current=!1}}},[d.isPointerDownOnContentRef,d.hasSelectionRef]),n.useEffect(()=>{u.current&&Z(u.current).forEach(x=>x.setAttribute("tabindex","-1"))}),a.jsx(V,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:f,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:l(c,r=>{r.preventDefault()}),onDismiss:d.onDismiss,children:a.jsx($,{...m,...v,onPointerDown:l(v.onPointerDown,r=>{r.currentTarget.contains(r.target)&&h(!0),d.hasSelectionRef.current=!1,d.isPointerDownOnContentRef.current=!0}),ref:C,style:{...v.style,userSelect:p?"text":void 0,WebkitUserSelect:p?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),X="HoverCardArrow",Y=n.forwardRef((e,o)=>{const{__scopeHoverCard:t,...s}=e,i=S(t);return a.jsx(W,{...i,...s,ref:o})});Y.displayName=X;function P(e){return o=>o.pointerType==="touch"?void 0:e()}function Z(e){const o=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;t.nextNode();)o.push(t.currentNode);return o}var ee=O,re=N,oe=D,te=j;function ne({...e}){return a.jsx(ee,{"data-slot":"hover-card",...e})}function ae({...e}){return a.jsx(re,{"data-slot":"hover-card-trigger",...e})}function se({className:e,align:o="center",sideOffset:t=4,...s}){return a.jsx(oe,{"data-slot":"hover-card-portal",children:a.jsx(te,{"data-slot":"hover-card-content",align:o,sideOffset:t,className:q("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-64 origin-(--radix-hover-card-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...s})})}ne.__docgenInfo={description:"",methods:[],displayName:"HoverCard"};ae.__docgenInfo={description:"",methods:[],displayName:"HoverCardTrigger"};se.__docgenInfo={description:"",methods:[],displayName:"HoverCardContent",props:{align:{defaultValue:{value:"'center'",computed:!1},required:!1},sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}};export{se as H,ne as a,ae as b};
