import{r as o}from"./index-BgCQ941z.js";import{c as M}from"./index-Dc_FVRD7.js";import{c as ze}from"./index-DLD62pO3.js";import{u as D,c as Ze}from"./index-Be4k453d.js";import{c as $e}from"./index-B5LVTqq5.js";import{u as qe}from"./index-Pxmga4VG.js";import{D as Je}from"./index-BdN0SzKn.js";import{h as Qe,u as et,R as tt}from"./index-D4IUklsN.js";import{F as nt}from"./index-DvLYkR1_.js";import{u as de}from"./index-BfBstFV9.js";import{c as pe,A as ot,R as me,C as rt,a as st}from"./index-CJl9oC1v.js";import{P as ct}from"./index-DYKZN-PH.js";import{P as Y}from"./index-RJnmdD4_.js";import{P as k,d as at}from"./index-raY0i5zZ.js";import{c as he,I as ut,R as it}from"./index-CQ43I_sF.js";import{c as lt}from"./index-BDff9h2_.js";import{u as q}from"./index-KGCq4IUG.js";import{j as a}from"./jsx-runtime-BjG_zV1W.js";var $=["Enter"," "],dt=["ArrowDown","PageUp","Home"],Ce=["ArrowUp","PageDown","End"],ft=[...dt,...Ce],pt={ltr:[...$,"ArrowRight"],rtl:[...$,"ArrowLeft"]},mt={ltr:["ArrowLeft"],rtl:["ArrowRight"]},N="Menu",[j,ht,Ct]=ze(N),[S,nn]=$e(N,[Ct,pe,he]),F=pe(),Me=he(),[ve,_]=S(N),[Mt,L]=S(N),ge=e=>{const{__scopeMenu:n,open:t=!1,children:r,dir:u,onOpenChange:s,modal:d=!0}=e,m=F(n),[h,p]=o.useState(null),l=o.useRef(!1),c=q(s),f=qe(u);return o.useEffect(()=>{const g=()=>{l.current=!0,document.addEventListener("pointerdown",C,{capture:!0,once:!0}),document.addEventListener("pointermove",C,{capture:!0,once:!0})},C=()=>l.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",C,{capture:!0}),document.removeEventListener("pointermove",C,{capture:!0})}},[]),a.jsx(me,{...m,children:a.jsx(ve,{scope:n,open:t,onOpenChange:c,content:h,onContentChange:p,children:a.jsx(Mt,{scope:n,onClose:o.useCallback(()=>c(!1),[c]),isUsingKeyboardRef:l,dir:f,modal:d,children:r})})})};ge.displayName=N;var vt="MenuAnchor",J=o.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e,u=F(t);return a.jsx(ot,{...u,...r,ref:n})});J.displayName=vt;var Q="MenuPortal",[gt,xe]=S(Q,{forceMount:void 0}),_e=e=>{const{__scopeMenu:n,forceMount:t,children:r,container:u}=e,s=_(Q,n);return a.jsx(gt,{scope:n,forceMount:t,children:a.jsx(Y,{present:t||s.open,children:a.jsx(ct,{asChild:!0,container:u,children:r})})})};_e.displayName=Q;var x="MenuContent",[xt,ee]=S(x),Re=o.forwardRef((e,n)=>{const t=xe(x,e.__scopeMenu),{forceMount:r=t.forceMount,...u}=e,s=_(x,e.__scopeMenu),d=L(x,e.__scopeMenu);return a.jsx(j.Provider,{scope:e.__scopeMenu,children:a.jsx(Y,{present:r||s.open,children:a.jsx(j.Slot,{scope:e.__scopeMenu,children:d.modal?a.jsx(_t,{...u,ref:n}):a.jsx(Rt,{...u,ref:n})})})})}),_t=o.forwardRef((e,n)=>{const t=_(x,e.__scopeMenu),r=o.useRef(null),u=D(n,r);return o.useEffect(()=>{const s=r.current;if(s)return Qe(s)},[]),a.jsx(te,{...e,ref:u,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:M(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),Rt=o.forwardRef((e,n)=>{const t=_(x,e.__scopeMenu);return a.jsx(te,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),St=lt("MenuContent.ScrollLock"),te=o.forwardRef((e,n)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:u,onOpenAutoFocus:s,onCloseAutoFocus:d,disableOutsidePointerEvents:m,onEntryFocus:h,onEscapeKeyDown:p,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:f,onDismiss:g,disableOutsideScroll:C,...P}=e,y=_(x,t),E=L(x,t),Ge=F(t),Ue=Me(t),ce=ht(t),[Be,ae]=o.useState(null),K=o.useRef(null),Ve=D(n,K,y.onContentChange),G=o.useRef(0),U=o.useRef(""),Ye=o.useRef(0),H=o.useRef(null),ue=o.useRef("right"),W=o.useRef(0),Xe=C?tt:o.Fragment,He=C?{as:St,allowPinchZoom:!0}:void 0,We=i=>{const w=U.current+i,R=ce().filter(v=>!v.disabled),b=document.activeElement,z=R.find(v=>v.ref.current===b)?.textValue,Z=R.map(v=>v.textValue),ie=kt(Z,w,z),T=R.find(v=>v.textValue===ie)?.ref.current;(function v(le){U.current=le,window.clearTimeout(G.current),le!==""&&(G.current=window.setTimeout(()=>v(""),1e3))})(w),T&&setTimeout(()=>T.focus())};o.useEffect(()=>()=>window.clearTimeout(G.current),[]),et();const I=o.useCallback(i=>ue.current===H.current?.side&&Ft(i,H.current?.area),[]);return a.jsx(xt,{scope:t,searchRef:U,onItemEnter:o.useCallback(i=>{I(i)&&i.preventDefault()},[I]),onItemLeave:o.useCallback(i=>{I(i)||(K.current?.focus(),ae(null))},[I]),onTriggerLeave:o.useCallback(i=>{I(i)&&i.preventDefault()},[I]),pointerGraceTimerRef:Ye,onPointerGraceIntentChange:o.useCallback(i=>{H.current=i},[]),children:a.jsx(Xe,{...He,children:a.jsx(nt,{asChild:!0,trapped:u,onMountAutoFocus:M(s,i=>{i.preventDefault(),K.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:a.jsx(Je,{asChild:!0,disableOutsidePointerEvents:m,onEscapeKeyDown:p,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:f,onDismiss:g,children:a.jsx(it,{asChild:!0,...Ue,dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:Be,onCurrentTabStopIdChange:ae,onEntryFocus:M(h,i=>{E.isUsingKeyboardRef.current||i.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(rt,{role:"menu","aria-orientation":"vertical","data-state":Ke(y.open),"data-radix-menu-content":"",dir:E.dir,...Ge,...P,ref:Ve,style:{outline:"none",...P.style},onKeyDown:M(P.onKeyDown,i=>{const R=i.target.closest("[data-radix-menu-content]")===i.currentTarget,b=i.ctrlKey||i.altKey||i.metaKey,z=i.key.length===1;R&&(i.key==="Tab"&&i.preventDefault(),!b&&z&&We(i.key));const Z=K.current;if(i.target!==Z||!ft.includes(i.key))return;i.preventDefault();const T=ce().filter(v=>!v.disabled).map(v=>v.ref.current);Ce.includes(i.key)&&T.reverse(),Ot(T)}),onBlur:M(e.onBlur,i=>{i.currentTarget.contains(i.target)||(window.clearTimeout(G.current),U.current="")}),onPointerMove:M(e.onPointerMove,O(i=>{const w=i.target,R=W.current!==i.clientX;if(i.currentTarget.contains(w)&&R){const b=i.clientX>W.current?"right":"left";ue.current=b,W.current=i.clientX}}))})})})})})})});Re.displayName=x;var Pt="MenuGroup",ne=o.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e;return a.jsx(k.div,{role:"group",...r,ref:n})});ne.displayName=Pt;var Et="MenuLabel",Se=o.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e;return a.jsx(k.div,{...r,ref:n})});Se.displayName=Et;var B="MenuItem",fe="menu.itemSelect",X=o.forwardRef((e,n)=>{const{disabled:t=!1,onSelect:r,...u}=e,s=o.useRef(null),d=L(B,e.__scopeMenu),m=ee(B,e.__scopeMenu),h=D(n,s),p=o.useRef(!1),l=()=>{const c=s.current;if(!t&&c){const f=new CustomEvent(fe,{bubbles:!0,cancelable:!0});c.addEventListener(fe,g=>r?.(g),{once:!0}),at(c,f),f.defaultPrevented?p.current=!1:d.onClose()}};return a.jsx(Pe,{...u,ref:h,disabled:t,onClick:M(e.onClick,l),onPointerDown:c=>{e.onPointerDown?.(c),p.current=!0},onPointerUp:M(e.onPointerUp,c=>{p.current||c.currentTarget?.click()}),onKeyDown:M(e.onKeyDown,c=>{const f=m.searchRef.current!=="";t||f&&c.key===" "||$.includes(c.key)&&(c.currentTarget.click(),c.preventDefault())})})});X.displayName=B;var Pe=o.forwardRef((e,n)=>{const{__scopeMenu:t,disabled:r=!1,textValue:u,...s}=e,d=ee(B,t),m=Me(t),h=o.useRef(null),p=D(n,h),[l,c]=o.useState(!1),[f,g]=o.useState("");return o.useEffect(()=>{const C=h.current;C&&g((C.textContent??"").trim())},[s.children]),a.jsx(j.ItemSlot,{scope:t,disabled:r,textValue:u??f,children:a.jsx(ut,{asChild:!0,...m,focusable:!r,children:a.jsx(k.div,{role:"menuitem","data-highlighted":l?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:p,onPointerMove:M(e.onPointerMove,O(C=>{r?d.onItemLeave(C):(d.onItemEnter(C),C.defaultPrevented||C.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:M(e.onPointerLeave,O(C=>d.onItemLeave(C))),onFocus:M(e.onFocus,()=>c(!0)),onBlur:M(e.onBlur,()=>c(!1))})})})}),It="MenuCheckboxItem",Ee=o.forwardRef((e,n)=>{const{checked:t=!1,onCheckedChange:r,...u}=e;return a.jsx(Te,{scope:e.__scopeMenu,checked:t,children:a.jsx(X,{role:"menuitemcheckbox","aria-checked":V(t)?"mixed":t,...u,ref:n,"data-state":se(t),onSelect:M(u.onSelect,()=>r?.(V(t)?!0:!t),{checkForDefaultPrevented:!1})})})});Ee.displayName=It;var Ie="MenuRadioGroup",[wt,yt]=S(Ie,{value:void 0,onValueChange:()=>{}}),we=o.forwardRef((e,n)=>{const{value:t,onValueChange:r,...u}=e,s=q(r);return a.jsx(wt,{scope:e.__scopeMenu,value:t,onValueChange:s,children:a.jsx(ne,{...u,ref:n})})});we.displayName=Ie;var ye="MenuRadioItem",be=o.forwardRef((e,n)=>{const{value:t,...r}=e,u=yt(ye,e.__scopeMenu),s=t===u.value;return a.jsx(Te,{scope:e.__scopeMenu,checked:s,children:a.jsx(X,{role:"menuitemradio","aria-checked":s,...r,ref:n,"data-state":se(s),onSelect:M(r.onSelect,()=>u.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});be.displayName=ye;var oe="MenuItemIndicator",[Te,bt]=S(oe,{checked:!1}),Ae=o.forwardRef((e,n)=>{const{__scopeMenu:t,forceMount:r,...u}=e,s=bt(oe,t);return a.jsx(Y,{present:r||V(s.checked)||s.checked===!0,children:a.jsx(k.span,{...u,ref:n,"data-state":se(s.checked)})})});Ae.displayName=oe;var Tt="MenuSeparator",je=o.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e;return a.jsx(k.div,{role:"separator","aria-orientation":"horizontal",...r,ref:n})});je.displayName=Tt;var At="MenuArrow",Oe=o.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e,u=F(t);return a.jsx(st,{...u,...r,ref:n})});Oe.displayName=At;var re="MenuSub",[jt,De]=S(re),ke=e=>{const{__scopeMenu:n,children:t,open:r=!1,onOpenChange:u}=e,s=_(re,n),d=F(n),[m,h]=o.useState(null),[p,l]=o.useState(null),c=q(u);return o.useEffect(()=>(s.open===!1&&c(!1),()=>c(!1)),[s.open,c]),a.jsx(me,{...d,children:a.jsx(ve,{scope:n,open:r,onOpenChange:c,content:p,onContentChange:l,children:a.jsx(jt,{scope:n,contentId:de(),triggerId:de(),trigger:m,onTriggerChange:h,children:t})})})};ke.displayName=re;var A="MenuSubTrigger",Ne=o.forwardRef((e,n)=>{const t=_(A,e.__scopeMenu),r=L(A,e.__scopeMenu),u=De(A,e.__scopeMenu),s=ee(A,e.__scopeMenu),d=o.useRef(null),{pointerGraceTimerRef:m,onPointerGraceIntentChange:h}=s,p={__scopeMenu:e.__scopeMenu},l=o.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return o.useEffect(()=>l,[l]),o.useEffect(()=>{const c=m.current;return()=>{window.clearTimeout(c),h(null)}},[m,h]),a.jsx(J,{asChild:!0,...p,children:a.jsx(Pe,{id:u.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":u.contentId,"data-state":Ke(t.open),...e,ref:Ze(n,u.onTriggerChange),onClick:c=>{e.onClick?.(c),!(e.disabled||c.defaultPrevented)&&(c.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:M(e.onPointerMove,O(c=>{s.onItemEnter(c),!c.defaultPrevented&&!e.disabled&&!t.open&&!d.current&&(s.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{t.onOpenChange(!0),l()},100))})),onPointerLeave:M(e.onPointerLeave,O(c=>{l();const f=t.content?.getBoundingClientRect();if(f){const g=t.content?.dataset.side,C=g==="right",P=C?-5:5,y=f[C?"left":"right"],E=f[C?"right":"left"];s.onPointerGraceIntentChange({area:[{x:c.clientX+P,y:c.clientY},{x:y,y:f.top},{x:E,y:f.top},{x:E,y:f.bottom},{x:y,y:f.bottom}],side:g}),window.clearTimeout(m.current),m.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(c),c.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:M(e.onKeyDown,c=>{const f=s.searchRef.current!=="";e.disabled||f&&c.key===" "||pt[r.dir].includes(c.key)&&(t.onOpenChange(!0),t.content?.focus(),c.preventDefault())})})})});Ne.displayName=A;var Fe="MenuSubContent",Le=o.forwardRef((e,n)=>{const t=xe(x,e.__scopeMenu),{forceMount:r=t.forceMount,...u}=e,s=_(x,e.__scopeMenu),d=L(x,e.__scopeMenu),m=De(Fe,e.__scopeMenu),h=o.useRef(null),p=D(n,h);return a.jsx(j.Provider,{scope:e.__scopeMenu,children:a.jsx(Y,{present:r||s.open,children:a.jsx(j.Slot,{scope:e.__scopeMenu,children:a.jsx(te,{id:m.contentId,"aria-labelledby":m.triggerId,...u,ref:p,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:l=>{d.isUsingKeyboardRef.current&&h.current?.focus(),l.preventDefault()},onCloseAutoFocus:l=>l.preventDefault(),onFocusOutside:M(e.onFocusOutside,l=>{l.target!==m.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:M(e.onEscapeKeyDown,l=>{d.onClose(),l.preventDefault()}),onKeyDown:M(e.onKeyDown,l=>{const c=l.currentTarget.contains(l.target),f=mt[d.dir].includes(l.key);c&&f&&(s.onOpenChange(!1),m.trigger?.focus(),l.preventDefault())})})})})})});Le.displayName=Fe;function Ke(e){return e?"open":"closed"}function V(e){return e==="indeterminate"}function se(e){return V(e)?"indeterminate":e?"checked":"unchecked"}function Ot(e){const n=document.activeElement;for(const t of e)if(t===n||(t.focus(),document.activeElement!==n))return}function Dt(e,n){return e.map((t,r)=>e[(n+r)%e.length])}function kt(e,n,t){const u=n.length>1&&Array.from(n).every(p=>p===n[0])?n[0]:n,s=t?e.indexOf(t):-1;let d=Dt(e,Math.max(s,0));u.length===1&&(d=d.filter(p=>p!==t));const h=d.find(p=>p.toLowerCase().startsWith(u.toLowerCase()));return h!==t?h:void 0}function Nt(e,n){const{x:t,y:r}=e;let u=!1;for(let s=0,d=n.length-1;s<n.length;d=s++){const m=n[s],h=n[d],p=m.x,l=m.y,c=h.x,f=h.y;l>r!=f>r&&t<(c-p)*(r-l)/(f-l)+p&&(u=!u)}return u}function Ft(e,n){if(!n)return!1;const t={x:e.clientX,y:e.clientY};return Nt(t,n)}function O(e){return n=>n.pointerType==="mouse"?e(n):void 0}var on=ge,rn=J,sn=_e,cn=Re,an=ne,un=Se,ln=X,dn=Ee,fn=we,pn=be,mn=Ae,hn=je,Cn=Oe,Mn=ke,vn=Ne,gn=Le;export{rn as A,cn as C,an as G,mn as I,un as L,sn as P,on as R,Mn as S,pn as a,ln as b,nn as c,dn as d,vn as e,gn as f,hn as g,fn as h,Cn as i};
