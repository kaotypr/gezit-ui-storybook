import{j as c}from"./jsx-runtime-BjG_zV1W.js";import{r as u}from"./index-BgCQ941z.js";import{c as N}from"./index-B5LVTqq5.js";import{u as R}from"./index-KGCq4IUG.js";import{u as m}from"./index-CyHmRedI.js";import{P as p}from"./index-BZJBf84B.js";import{c as g}from"./cn-BEHD0UYf.js";var x={exports:{}},h={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d=u;function C(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var k=typeof Object.is=="function"?Object.is:C,F=d.useState,$=d.useEffect,M=d.useLayoutEffect,P=d.useDebugValue;function z(e,t){var n=t(),o=F({inst:{value:n,getSnapshot:t}}),r=o[0].inst,a=o[1];return M(function(){r.value=n,r.getSnapshot=t,v(r)&&a({inst:r})},[e,n,t]),$(function(){return v(r)&&a({inst:r}),e(function(){v(r)&&a({inst:r})})},[e]),P(n),n}function v(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!k(e,n)}catch{return!0}}function T(e,t){return t()}var V=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?T:z;h.useSyncExternalStore=d.useSyncExternalStore!==void 0?d.useSyncExternalStore:V;x.exports=h;var D=x.exports;function G(){return D.useSyncExternalStore(H,()=>!0,()=>!1)}function H(){return()=>{}}var S="Avatar",[q,oe]=N(S),[B,y]=q(S),L=u.forwardRef((e,t)=>{const{__scopeAvatar:n,...o}=e,[r,a]=u.useState("idle");return c.jsx(B,{scope:n,imageLoadingStatus:r,onImageLoadingStatusChange:a,children:c.jsx(p.span,{...o,ref:t})})});L.displayName=S;var I="AvatarImage",w=u.forwardRef((e,t)=>{const{__scopeAvatar:n,src:o,onLoadingStatusChange:r=()=>{},...a}=e,l=y(I,n),s=K(o,a),i=R(f=>{r(f),l.onImageLoadingStatusChange(f)});return m(()=>{s!=="idle"&&i(s)},[s,i]),s==="loaded"?c.jsx(p.img,{...a,ref:t,src:o}):null});w.displayName=I;var _="AvatarFallback",b=u.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:o,...r}=e,a=y(_,n),[l,s]=u.useState(o===void 0);return u.useEffect(()=>{if(o!==void 0){const i=window.setTimeout(()=>s(!0),o);return()=>window.clearTimeout(i)}},[o]),l&&a.imageLoadingStatus!=="loaded"?c.jsx(p.span,{...r,ref:t}):null});b.displayName=_;function E(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function K(e,{referrerPolicy:t,crossOrigin:n}){const o=G(),r=u.useRef(null),a=o?(r.current||(r.current=new window.Image),r.current):null,[l,s]=u.useState(()=>E(a,e));return m(()=>{s(E(a,e))},[a,e]),m(()=>{const i=j=>()=>{s(j)};if(!a)return;const f=i("loaded"),A=i("error");return a.addEventListener("load",f),a.addEventListener("error",A),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",f),a.removeEventListener("error",A)}},[a,n,t]),l}var O=L,U=w,W=b;function J({className:e,...t}){return c.jsx(O,{"data-slot":"avatar",className:g("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function Q({className:e,...t}){return c.jsx(U,{"data-slot":"avatar-image",className:g("aspect-square size-full",e),...t})}function X({className:e,...t}){return c.jsx(W,{"data-slot":"avatar-fallback",className:g("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}J.__docgenInfo={description:"",methods:[],displayName:"Avatar"};Q.__docgenInfo={description:"",methods:[],displayName:"AvatarImage"};X.__docgenInfo={description:"",methods:[],displayName:"AvatarFallback"};export{X as A,J as a,Q as b};
